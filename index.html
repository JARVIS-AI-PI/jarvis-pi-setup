<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Jarvis AI</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="chat"></div>
  <div id="inputArea">
    <input id="userInput" placeholder="Ask Jarvis..." autofocus />
    <button id="sendBtn">Send</button>
  </div>
<script>
const { ipcRenderer } = require('electron');
const chat = document.getElementById('chat');
const input = document.getElementById('userInput');
const button = document.getElementById('sendBtn');

function append(side, text) {
  const div = document.createElement('div');
  div.className = side;
  div.textContent = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

button.onclick = () => {
  const msg = input.value.trim();
  if (!msg) return;
  append('you', 'You: ' + msg);
  input.value = '';
  ipcRenderer.send('speak', msg);
  ipcRenderer.once('spoken', (_,_) => {
    append('jarvis', 'Jarvis: Heard "' + msg + '"');
  });
};

input.addEventListener('keydown', e => { if (e.key === 'Enter') button.click(); });
</script>
</body>
</html>
